STATUS | wrapper  | 2017/05/30 17:28:08 | --> Wrapper Started as Service
STATUS | wrapper  | 2017/05/30 17:28:08 | Launching a JVM...
INFO   | jvm 1    | 2017/05/30 17:28:09 | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org
INFO   | jvm 1    | 2017/05/30 17:28:09 |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.
INFO   | jvm 1    | 2017/05/30 17:28:09 | 
INFO   | jvm 1    | 2017/05/30 17:28:09 | Starting TeamCity Build Agent Launcher...
INFO   | jvm 1    | 2017/05/30 17:28:09 | Agent home directory is C:\BuildAgent
INFO   | jvm 1    | 2017/05/30 17:28:09 | Current Java runtime version is 1.8 
INFO   | jvm 1    | 2017/05/30 17:28:09 | Lock file: C:\BuildAgent\logs\buildAgent.properties.lock 
INFO   | jvm 1    | 2017/05/30 17:28:09 | Using no lock 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Deleting C:\BuildAgent\update 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Deleting C:\BuildAgent\update 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Update folder deleted 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Deleting C:\BuildAgent\backup 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Tue May 30 17:28:12 IDT 2017 ==> Start launch 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Current Java runtime version is 1.8 
INFO   | jvm 1    | 2017/05/30 17:28:12 | Launching agent with command:  c:\BuildAgent\jre\bin\java -ea -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -Xrs -Dlog4j.configuration=file:../conf/teamcity-agent-log4j.xml -Dteamcity_logs=../logs/ -classpath C:\BuildAgent\lib\agent-configurator.jar;C:\BuildAgent\lib\agent-installer-ui.jar;C:\BuildAgent\lib\agent-launcher.jar;C:\BuildAgent\lib\agent-openapi.jar;C:\BuildAgent\lib\agent-upgrade.jar;C:\BuildAgent\lib\agent.jar;C:\BuildAgent\lib\annotations.jar;C:\BuildAgent\lib\app-wrapper.jar;C:\BuildAgent\lib\buildAgent-updates-applying.jar;C:\BuildAgent\lib\cloud-shared.jar;C:\BuildAgent\lib\common-impl.jar;C:\BuildAgent\lib\common-runtime.jar;C:\BuildAgent\lib\common.jar;C:\BuildAgent\lib\commons-beanutils-core.jar;C:\BuildAgent\lib\commons-codec-1.3.jar;C:\BuildAgent\lib\commons-collections-3.2.1.jar;C:\BuildAgent\lib\commons-compress-1.9.jar;C:\BuildAgent\lib\commons-httpclient-3.1.jar;C:\BuildAgent\lib\commons-io-1.3.2.jar;C:\BuildAgent\lib\commons-logging.jar;C:\BuildAgent\lib\coverage-agent-common.jar;C:\BuildAgent\lib\coverage-report.jar;C:\BuildAgent\lib\duplicator-util.jar;C:\BuildAgent\lib\ehcache-1.6.0-patch.jar;C:\BuildAgent\lib\ehcache-1.6.2.jar;C:\BuildAgent\lib\freemarker.jar;C:\BuildAgent\lib\idea-settings.jar;C:\BuildAgent\lib\inspections-util.jar;C:\BuildAgent\lib\jaxen-1.1.1.jar;C:\BuildAgent\lib\jdk-searcher.jar;C:\BuildAgent\lib\jdom.jar;C:\BuildAgent\lib\joda-time.jar;C:\BuildAgent\lib\launcher-api.jar;C:\BuildAgent\lib\launcher.jar;C:\BuildAgent\lib\log4j-1.2.12-json-layout-1.0.9.jar;C:\BuildAgent\lib\log4j-1.2.12.jar;C:\BuildAgent\lib\messages.jar;C:\BuildAgent\lib\openapi.jar;C:\BuildAgent\lib\patches-impl.jar;C:\BuildAgent\lib\patches.jar;C:\BuildAgent\lib\processesTerminator.jar;C:\BuildAgent\lib\resources_en.jar;C:\BuildAgent\lib\runtime-util.jar;C:\BuildAgent\lib\server-logging.jar;C:\BuildAgent\lib\serviceMessages.jar;C:\BuildAgent\lib\slf4j-api-1.7.5.jar;C:\BuildAgent\lib\slf4j-log4j12-1.7.5.jar;C:\BuildAgent\lib\spring.jar;C:\BuildAgent\lib\trove-3.0.3.jar;C:\BuildAgent\lib\trove4j.jar;C:\BuildAgent\lib\util.jar;C:\BuildAgent\lib\xercesImpl.jar;C:\BuildAgent\lib\xml-rpc-wrapper.jar;C:\BuildAgent\lib\xmlrpc-2.0.1.jar;C:\BuildAgent\lib\xpp3-1.1.4c.jar;C:\BuildAgent\lib\xstream-1.4.1.jar;C:\BuildAgent\lib\xz-1.5.jar jetbrains.buildServer.agent.AgentMain -file ../conf/buildAgent.properties -launcher.version 37377 
INFO   | jvm 1    | 2017/05/30 17:28:13 | Using logs directory C:\BuildAgent\logs 
INFO   | jvm 1    | 2017/05/30 17:28:13 | Log4J configuration file c:\BuildAgent\bin\..\conf\teamcity-agent-log4j.xml will be monitored with interval 10 seconds. 
INFO   | jvm 1    | 2017/05/30 17:28:26 | [2017-05-30 17:28:26,487]   WARN -      jetbrains.buildServer.VCS - '[C:\BuildAgent\temp] hg version --quiet' command failed.  
INFO   | jvm 1    | 2017/05/30 17:28:35 | [2017-05-30 17:28:35,092]   WARN - .agent.AmazonPropertiesUpdater - Fetched Amazon EC2 instance metadata does not contain required values. Probably this agent was not started inside Amazon EC2. Is proxy server used?  
INFO   | jvm 1    | 2017/05/30 17:28:38 | [2017-05-30 17:28:38.581] Registering on server http://teamcityserver:9095, AgentDetails{Name='TCA Win 2016-3405', AgentId=null, BuildId=null, AgentOwnAddress='null', AlternativeAddresses=[10.102.39.170], Port=9090, Version='37377', PluginsVersion='37377-md5-672513f8f9ce457fbf5ecd91b04016f3', AvailableRunners=[Ant, cargo-deploy-runner, dotnet-tools-dupfinder, dotnet-tools-inspectcode, Duplicator, ftp-deploy-runner, FTPUpload, FxCop, gradle-runner, hub_runner, Inspection, Ipr, jb.nuget.installer, jb.nuget.pack, jb.nuget.publish, jetbrains.dotNetGenericRunner, jetbrains.mspec, jetbrains_powershell, jonnyzzz.grunt, jonnyzzz.gulp, jonnyzzz.node, jonnyzzz.npm, jonnyzzz.nvm, jonnyzzz.phantom, jonnyzzz.vm, JPS, Maven2, MSBuild, NAnt, NUnit, python, rake-runner, SBT, simpleRunner, sln2003, smb-deploy-runner, ssh-deploy-runner, ssh-exec-runner, StyleCop, VisualStudioTest, VS.Solution], AvailableVcs=[tfs, cvs, jetbrains.git, mercurial, svn, perforce], AuthorizationToken='', PingCode='YslxP15sg7Ubs2Y52dCZZfAvVdMdqb4G'} 
INFO   | jvm 1    | 2017/05/30 17:28:38 | Upgrade call received from the build server 
INFO   | jvm 1    | 2017/05/30 17:28:38 | Will upgrade when become idle 
INFO   | jvm 1    | 2017/05/30 17:28:39 | [2017-05-30 17:28:38.986] Registered: id:3446, authorizationToken:fd0ea7423621815a9eac96e2b16d79a1 
INFO   | jvm 1    | 2017/05/30 17:28:39 | [2017-05-30 17:28:38.986] If this is the first time this agent registered on the server make sure it is authorized by administrator in the server web UI. 
INFO   | jvm 1    | 2017/05/30 17:28:39 | Exit for upgrade 
INFO   | jvm 1    | 2017/05/30 17:28:39 | Restart agent, some plugins needs to be updated 
INFO   | jvm 1    | 2017/05/30 17:28:44 | [2017-05-30 17:28:43,997]   WARN -   jetbrains.buildServer.SERVER - Waiting for update agent properties pool to complete  
INFO   | jvm 1    | 2017/05/30 17:28:44 | Build agent shutdown 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Agent process finished 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Agent has exited with code: 23 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Too long run time, unexpected exit. Restarting. Run time was : 31.622 sec. 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Launcher is restarting agent process. 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Tue May 30 17:28:44 IDT 2017 ==> Start launch 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Current Java runtime version is 1.8 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Launching agent with command:  c:\BuildAgent\jre\bin\java -ea -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -Xrs -Dlog4j.configuration=file:../conf/teamcity-agent-log4j.xml -Dteamcity_logs=../logs/ -classpath C:\BuildAgent\lib\agent-configurator.jar;C:\BuildAgent\lib\agent-installer-ui.jar;C:\BuildAgent\lib\agent-launcher.jar;C:\BuildAgent\lib\agent-openapi.jar;C:\BuildAgent\lib\agent-upgrade.jar;C:\BuildAgent\lib\agent.jar;C:\BuildAgent\lib\annotations.jar;C:\BuildAgent\lib\app-wrapper.jar;C:\BuildAgent\lib\buildAgent-updates-applying.jar;C:\BuildAgent\lib\cloud-shared.jar;C:\BuildAgent\lib\common-impl.jar;C:\BuildAgent\lib\common-runtime.jar;C:\BuildAgent\lib\common.jar;C:\BuildAgent\lib\commons-beanutils-core.jar;C:\BuildAgent\lib\commons-codec-1.3.jar;C:\BuildAgent\lib\commons-collections-3.2.1.jar;C:\BuildAgent\lib\commons-compress-1.9.jar;C:\BuildAgent\lib\commons-httpclient-3.1.jar;C:\BuildAgent\lib\commons-io-1.3.2.jar;C:\BuildAgent\lib\commons-logging.jar;C:\BuildAgent\lib\coverage-agent-common.jar;C:\BuildAgent\lib\coverage-report.jar;C:\BuildAgent\lib\duplicator-util.jar;C:\BuildAgent\lib\ehcache-1.6.0-patch.jar;C:\BuildAgent\lib\ehcache-1.6.2.jar;C:\BuildAgent\lib\freemarker.jar;C:\BuildAgent\lib\idea-settings.jar;C:\BuildAgent\lib\inspections-util.jar;C:\BuildAgent\lib\jaxen-1.1.1.jar;C:\BuildAgent\lib\jdk-searcher.jar;C:\BuildAgent\lib\jdom.jar;C:\BuildAgent\lib\joda-time.jar;C:\BuildAgent\lib\launcher-api.jar;C:\BuildAgent\lib\launcher.jar;C:\BuildAgent\lib\log4j-1.2.12-json-layout-1.0.9.jar;C:\BuildAgent\lib\log4j-1.2.12.jar;C:\BuildAgent\lib\messages.jar;C:\BuildAgent\lib\openapi.jar;C:\BuildAgent\lib\patches-impl.jar;C:\BuildAgent\lib\patches.jar;C:\BuildAgent\lib\processesTerminator.jar;C:\BuildAgent\lib\resources_en.jar;C:\BuildAgent\lib\runtime-util.jar;C:\BuildAgent\lib\server-logging.jar;C:\BuildAgent\lib\serviceMessages.jar;C:\BuildAgent\lib\slf4j-api-1.7.5.jar;C:\BuildAgent\lib\slf4j-log4j12-1.7.5.jar;C:\BuildAgent\lib\spring.jar;C:\BuildAgent\lib\trove-3.0.3.jar;C:\BuildAgent\lib\trove4j.jar;C:\BuildAgent\lib\util.jar;C:\BuildAgent\lib\xercesImpl.jar;C:\BuildAgent\lib\xml-rpc-wrapper.jar;C:\BuildAgent\lib\xmlrpc-2.0.1.jar;C:\BuildAgent\lib\xpp3-1.1.4c.jar;C:\BuildAgent\lib\xstream-1.4.1.jar;C:\BuildAgent\lib\xz-1.5.jar jetbrains.buildServer.agent.AgentMain -file ../conf/buildAgent.properties -launcher.version 37377 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Using logs directory C:\BuildAgent\logs 
INFO   | jvm 1    | 2017/05/30 17:28:44 | Log4J configuration file c:\BuildAgent\bin\..\conf\teamcity-agent-log4j.xml will be monitored with interval 10 seconds. 
INFO   | jvm 1    | 2017/05/30 17:28:56 | [2017-05-30 17:28:56,682]   WARN -      jetbrains.buildServer.VCS - '[C:\BuildAgent\temp] hg version --quiet' command failed.  
INFO   | jvm 1    | 2017/05/30 17:29:05 | [2017-05-30 17:29:04,992]   WARN - .agent.AmazonPropertiesUpdater - Fetched Amazon EC2 instance metadata does not contain required values. Probably this agent was not started inside Amazon EC2. Is proxy server used?  
INFO   | jvm 1    | 2017/05/30 17:29:08 | [2017-05-30 17:29:08.399] Registering on server http://teamcityserver:9095, AgentDetails{Name='TCA Win 2016-3405', AgentId=null, BuildId=null, AgentOwnAddress='null', AlternativeAddresses=[10.102.39.170], Port=9090, Version='37377', PluginsVersion='37377-md5-fcdf06abd581905d8183fd3c6b8e6319', AvailableRunners=[Ant, cargo-deploy-runner, dotnet-tools-dupfinder, dotnet-tools-inspectcode, Duplicator, ftp-deploy-runner, FTPUpload, FxCop, gradle-runner, hub_runner, Inspection, Ipr, jb.nuget.installer, jb.nuget.pack, jb.nuget.publish, jetbrains.dotNetGenericRunner, jetbrains.mspec, jetbrains_powershell, jonnyzzz.grunt, jonnyzzz.gulp, jonnyzzz.node, jonnyzzz.npm, jonnyzzz.nvm, jonnyzzz.phantom, jonnyzzz.vm, JPS, Maven2, MSBuild, NAnt, NUnit, python, rake-runner, SBT, simpleRunner, sln2003, smb-deploy-runner, ssh-deploy-runner, ssh-exec-runner, StyleCop, VisualStudioTest, VS.Solution], AvailableVcs=[tfs, cvs, jetbrains.git, mercurial, svn, perforce], AuthorizationToken='fd0ea7423621815a9eac96e2b16d79a1', PingCode='btrFgSwUC5XeC1cwaWsnfdQBg1fgx6lO'} 
INFO   | jvm 1    | 2017/05/30 17:29:08 | [2017-05-30 17:29:08.805] Registered: id:3446, authorizationToken:fd0ea7423621815a9eac96e2b16d79a1 
INFO   | jvm 1    | 2017/05/30 17:29:08 | [2017-05-30 17:29:08.805] If this is the first time this agent registered on the server make sure it is authorized by administrator in the server web UI. 
INFO   | jvm 1    | 2017/05/30 17:29:10 | [2017-05-30 17:29:10,242]   WARN -    jetbrains.buildServer.AGENT - new file cc5d6f5ee5a425b7.xml.new exists. Previous build might have not finished successfully  
INFO   | jvm 1    | 2017/05/30 17:29:10 | [2017-05-30 17:29:10,586]   WARN -      jetbrains.buildServer.VCS - '"C:\Program Files\Git\bin\git.exe" show-ref refs/heads/deployments' command failed.  
INFO   | jvm 1    | 2017/05/30 17:29:11 | Exception in thread "TC: 17:29:10 StreamGobbler: "C:\Program Files\Git\bin\git.exe" -c core.askpass=C:\BuildAgent\temp\buildTmp\pass6402605837639663507.bat fetch --progress origin +refs/heads/deployments:refs/heads/deployments" java.lang.StringIndexOutOfBoundsException: String index out of range: -1 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at java.lang.String.checkBounds(String.java:381) 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at java.lang.String.<init>(String.java:462) 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at jetbrains.buildServer.LineAwareByteArrayOutputStream.reportNewLine(LineAwareByteArrayOutputStream.java:116) 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at jetbrains.buildServer.LineAwareByteArrayOutputStream.detectLines(LineAwareByteArrayOutputStream.java:88) 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at jetbrains.buildServer.LineAwareByteArrayOutputStream.write(LineAwareByteArrayOutputStream.java:65) 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at jetbrains.buildServer.StreamGobbler.readBuffer(StreamGobbler.java:117) 
INFO   | jvm 1    | 2017/05/30 17:29:11 | 	at jetbrains.buildServer.StreamGobbler.run(StreamGobbler.java:84) 
